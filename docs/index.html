<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <meta name="keywords" content="django drf vue nginx golang mysql ">
    <meta name="author" content="zhp,602013597@qq.com">
    <meta name="description" content="document">

    <meta charset="UTF-8">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify/themes/vue.css"> -->

    <script src="//cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>



</head>

<body>
    <div id="zhp">
        <span class='themechange' title="切换主题">{{msg}}</span>
    </div>

    <div id="app"></div>
    <script>
        window.$docsify = {
            loadSidebar: true,
            subMaxLevel: 2,
            coverpage: true,
            routerMode: 'history',
            count: {
                countable: true,
                fontsize: '0.9em',
                color: 'rgb(90,90,90)',
                language: 'chinese'
            }
        };

        const vm = new Vue({
            el: '#zhp',
            data() {
                return {
                    msg: '主题选择',
                    themelist: [{
                            title: "vue",
                            href: "https://cdn.jsdelivr.net/npm/docsify/themes/vue.css"
                        },
                        {
                            title: "buble",
                            href: "https://cdn.jsdelivr.net/npm/docsify/themes/buble.css"
                        },
                        {
                            title: "dark",
                            href: "https://cdn.jsdelivr.net/npm/docsify/themes/dark.css"
                        },
                        {
                            title: "dolphin",
                            href: "https://cdn.jsdelivr.net/npm/docsify/themes/dolphin.css"
                        },
                        {
                            title: "simple-dark",
                            href: "https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple-dark.css"
                        },
                        {
                            title: "simple",
                            href: "https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css"
                        },
                    ]
                }
            },
            computed: {
                localTheme() {
                    var theme = localStorage.getItem("theme")
                    return theme ? theme : this.themelist[0].href
                }
            },
            methods: {
                loadCss(href) {
                    var addSign = true;
                    var links = document.getElementsByTagName("link");
                    for (var i = 0; i < links.length; i++) {
                        if (links[i] && links[i].href && links[i].href.indexOf(href) != -1) {
                            addSign = false;
                        }
                    }
                    if (addSign) {
                        var $link = document.createElement("link");
                        $link.setAttribute("rel", "stylesheet");
                        $link.setAttribute("type", "text/css");
                        $link.setAttribute("href", href);
                        document.getElementsByTagName("head").item(0).appendChild($link);
                    }
                },

                removeCss(href) {
                    var links = document.getElementsByTagName("link");
                    for (var i = 0; i < links.length; i++) {
                        var _href = links[i].href;
                        if (links[i] && links[i].href && links[i].href.indexOf(href) != -1) {
                            links[i].parentNode.removeChild(links[i]);
                        }
                    }
                }

            },
            mounted() {
                var item = this.themelist[Math.floor((Math.random() * this.themelist.length))]
                this.loadCss(this.localTheme)
                console.log(this.localTheme, "localtheme")
            }
        })
    </script>

    <script src="//cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/docsify-pagination/dist/docsify-pagination.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-go.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-python.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
    <script src="//unpkg.com/docsify-count/dist/countable.js"></script>
    <script src="//cdn.jsdelivr.net/npm/docsify-copy-code"></script>
    <style>
        @media screen and (max-width: 414px) {
            .markdown-section {
                max-width: 90%;
                padding: 2rem 10px;
            }
        }
        
        .themechange {
            position: fixed;
            right: 30px;
            bottom: 90px;
            z-index: 30;
            cursor: pointer;
            border: 1px solid #f1f1f1;
            width: 30px;
            height: 30px;
            background: #fff;
            border-radius: 50%;
        }
        @media screen and (max-width: 414px) {
            .themechange{
                right: 10px;
            }
        }
    </style>
</body>

</html>